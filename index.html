<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Loading Sales Summary...</title><script src="https://cdn.tailwindcss.com"></script><style>body { font-family: 'Inter', sans-serif; }</style></head><body class="bg-gray-100 min-h-screen flex items-center justify-center p-4"><div class="bg-white rounded-lg shadow-xl p-8 max-w-md w-full text-center space-y-6"><h1 class="text-2xl md:text-3xl font-extrabold text-gray-800">Sales Summary</h1><div id="totalSales" class="text-4xl md:text-5xl font-extrabold text-blue-600 animate-pulse">Loading...</div><p class="text-gray-600 text-lg">Total sales from data.csv</p></div><script>
        async function fetchSalesData() {
            const totalSalesDiv = document.getElementById('totalSales');
            try {
                const response = await fetch('data.csv');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const csvText = await response.text();
                const lines = csvText.split('\n').filter(line => line.trim() !== '');

                if (lines.length === 0) {
                    throw new Error('CSV file is empty.');
                }

                const headers = lines[0].split(',').map(header => header.trim());
                const salesColumnIndex = headers.indexOf('sales');

                if (salesColumnIndex === -1) {
                    throw new Error('"sales" column not found in data.csv');
                }

                let totalSales = 0;
                for (let i = 1; i < lines.length; i++) {
                    const values = lines[i].split(',').map(value => value.trim());
                    if (values.length > salesColumnIndex) {
                        const salesValue = parseFloat(values[salesColumnIndex]);
                        if (!isNaN(salesValue)) {
                            totalSales += salesValue;
                        }
                    }
                }

                const seed = new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' });
                document.title = `Sales Summary ${seed}`;
                totalSalesDiv.textContent = `$${totalSales.toFixed(2)}`;
                totalSalesDiv.classList.remove('animate-pulse');

            } catch (error) {
                console.error('Error fetching or processing sales data:', error);
                document.title = 'Sales Summary - Error';
                totalSalesDiv.textContent = 'Error loading data.';
                totalSalesDiv.classList.add('text-red-500');
                totalSalesDiv.classList.remove('animate-pulse');
            }
        }

        fetchSalesData();
    </script></body></html>